buildscript {
	repositories {
		jcenter()
		maven {
			url "https://oss.sonatype.org/content/repositories/snapshots/"
		}
		String localMavenRepo = project.hasProperty('LOCAL_MAVEN_REPO') ? project.ext.get('LOCAL_MAVEN_REPO') : System.getenv('LOCAL_MAVEN_REPO')
		if (localMavenRepo != null) {
			maven {
				url localMavenRepo
			}
		}
	}
	dependencies {
		classpath 'com.jdroidframework:jdroid-component-builder:0.2.0'
		classpath 'com.jdroidframework:jdroid-gradle-project-plugin:0.14.0'
	}
}

plugins {
	id "java-gradle-plugin"
}

gradlePlugin {
	plugins {
		simplePlugin {
			id = "com.jdroid.component.builder"
			implementationClass = "com.jdroid.component.builder.ComponentBuilderGradlePlugin"
		}
	}
}

ext.VERSION_MAJOR = 0
ext.VERSION_MINOR = 3
ext.VERSION_PATCH = 0

ext.JDROID_GITHUB_REPOSITORY_OWNER = 'maxirosson'
ext.JDROID_GITHUB_REPOSITORY_NAME = 'jdroid-component-builder'

ext.PROJECT_NAME = "Jdroid Component Builder Plugin"

apply plugin: 'com.jdroid.component.builder'
apply plugin: 'com.jdroid.gradle.plugin'

description = 'Gradle Plugin to build Jdroid Components'

repositories {
	mavenCentral()
	maven { url "https://plugins.gradle.org/m2/" }
}

dependencies {
	compile 'com.jdroidframework:jdroid-java:0.12.0'
	compile 'com.jdroidframework:jdroid-java-github:0.9.3'
	compile 'com.gradle:build-scan-plugin:1.8'
}
