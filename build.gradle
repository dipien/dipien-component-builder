buildscript {
	repositories {
		jcenter()
		gradlePluginPortal()
		String localMavenRepo = project.hasProperty('LOCAL_MAVEN_REPO') ? project.ext.get('LOCAL_MAVEN_REPO') : System.getenv('LOCAL_MAVEN_REPO')
		if (localMavenRepo != null) {
			maven { url localMavenRepo }
		}
		maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
		mavenCentral()
	}
	dependencies {

		// https://github.com/maxirosson/jdroid-component-builder/blob/master/CHANGELOG.md
		classpath 'com.jdroidtools:jdroid-component-builder:1.0.0-SNAPSHOT'

		// https://github.com/maxirosson/jdroid-gradle-plugin/blob/master/CHANGELOG.md
		classpath 'com.jdroidframework:jdroid-gradle-project-plugin:0.18.0'
	}
}

version = '1.0.0'

ext.JDROID_GITHUB_REPOSITORY_OWNER = 'maxirosson'
ext.JDROID_GITHUB_REPOSITORY_NAME = 'jdroid-component-builder'

ext.PROJECT_NAME = "Jdroid Component Builder Plugin"

// https://docs.gradle.org/current/userguide/javaGradle_plugin.html
apply plugin: 'java-gradle-plugin'

apply plugin: 'com.jdroid.component.builder'
apply plugin: 'com.jdroid.gradle.plugin'

description = 'Gradle Plugin to build Jdroid Components'

repositories {
	jcenter()
	gradlePluginPortal()
	mavenCentral()
}

dependencies {

	// https://github.com/maxirosson/jdroid-java/blob/master/CHANGELOG.md
	compile 'com.jdroidframework:jdroid-java-core:0.14.0'

	// https://github.com/maxirosson/jdroid-java-github/releases
	compile 'com.jdroidframework:jdroid-java-github:0.9.4'

	// https://plugins.gradle.org/plugin/com.gradle.build-scan
	compile 'com.gradle:build-scan-plugin:1.12.1'

	testCompile 'junit:junit:4.12'
}

gradlePlugin {
	plugins {
		componentBuilderPlugin {
			id = "com.jdroid.component.builder"
			implementationClass = "com.jdroid.component.builder.ComponentBuilderGradlePlugin"
		}
	}
}
